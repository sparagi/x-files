test generation
generateNormalResolverTests	
	"Test resolving normal relative URI references to absolute URIs."
	"self generateNormalResolverTests"
	| baseURIString testPairs |
	
	baseURIString := 'http://a/b/c/d;p?q'.
	testPairs := #(
		 ('g:h'		'g:h')
		 ('g'		'http://a/b/c/g')
		 ('./g'		'http://a/b/c/g')
		 ('g/'		'http://a/b/c/g/')
		 ('/g'		'http://a/g')
		 ('//g'		'http://g')
		 ('?y'		'http://a/b/c/d;p?y')
		 ('g?y'		'http://a/b/c/g?y')
		 ('#s'		'http://a/b/c/d;p?q#s')
		 ('g#s'		'http://a/b/c/g#s')
		 ('g?y#s'	'http://a/b/c/g?y#s')
		 (';x'		'http://a/b/c/;x')
		 ('g;x'		'http://a/b/c/g;x')
		 ('g;x?y#s'	'http://a/b/c/g;x?y#s')
		 (''			'http://a/b/c/d;p?q')
		 ('.'			'http://a/b/c/')
		 ('./'		'http://a/b/c/')
		 ('..'		'http://a/b/')
		 ('../'		'http://a/b/')
		 ('../g'		'http://a/b/g')
		 ('../..'		'http://a/')
		 ('../../'		'http://a/')
		 ('../../g'	'http://a/g')).

	1 to: testPairs size do: [:testNumber | | testPair relativeURIString resolvedURIString testMethod |
			testPair := testPairs at: testNumber.
			relativeURIString := testPair first.
			resolvedURIString := testPair last.
			testMethod := String streamContents: [:stream | stream
				nextPutAll: 'test3986ResolveNormal'; nextPutAll: testNumber asString; cr;
				nextPutAll: '	"From section 5.4.1."'; cr;
				nextPutAll: '	"Automatically generated by class>>generateNormalResolverTests; do not edit here."'; cr;
				nextPutAll: '	| baseURI relativeURI resolvedURI |'; cr;
				cr;
				nextPutAll: '	baseURI := URI fromString: '''; nextPutAll: baseURIString; nextPutAll: '''.'; cr;
				nextPutAll: '	relativeURI := URI fromString: '''; nextPutAll: relativeURIString; nextPutAll: '''.'; cr;
				nextPutAll: '	resolvedURI := baseURI resolve: relativeURI.'; cr;
				cr;
				nextPutAll: '	self should: [resolvedURI asString = '''; nextPutAll: resolvedURIString; nextPutAll: ''']'].
			self compile: testMethod classified: 'examples']