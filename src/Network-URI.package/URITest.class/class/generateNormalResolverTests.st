test generation
generateNormalResolverTests	
	"Test resolving normal relative URI references to absolute URIs."
	"Originally snagged from mir's TestURI class."
	"self generateNormalResolverTests"

	| relURIString result method testPairs pair |

	testPairs _ #(
		('g:h' 'g:h')
		('g' 'http://a/b/c/g')
		('./g' 'http://a/b/c/g')
		('g/' 'http://a/b/c/g/')
		('/g' 'http://a/g')
		('//g' 'http://g')
		('?y' 'http://a/b/c/?y')
		('g?y' 'http://a/b/c/g?y')

		"2396 actually says '(current document)#s'; I think this is what it meant by that."
		('#s' '#s') 

		('g#s' 'http://a/b/c/g#s')
		('g?y#s' 'http://a/b/c/g?y#s')
		(';x' 'http://a/b/c/;x')
		('g;x' 'http://a/b/c/g;x')
		('g;x?y#s' 'http://a/b/c/g;x?y#s')
		('.' 'http://a/b/c/')
		('./' 'http://a/b/c/')
		('..' 'http://a/b/')
		('../' 'http://a/b/')
		('../g' 'http://a/b/g')
		('../..' 'http://a/')
		('../../' 'http://a/')
		('../../g' 'http://a/g')).

	1
		to: testPairs size
		do: [:index |
			pair _ testPairs at: index.
			relURIString _ pair first.
			result _ pair last.
			method _ String streamContents: [:stream |
				stream
					nextPutAll: 'test2396ResolveNormal' , index printString;
					cr;
					nextPutAll: '	"From section C.1."';
					cr;
					nextPutAll: '	"Automatically generated by class>>generateNormalResolverTests; do not edit here."';
					cr;
					cr;
					nextPutAll: '	| baseURI relURI resolvedURI |';
					cr;
					cr;
					nextPutAll: '	baseURI _ URI fromString: ''http://a/b/c/d;p?q''.';
					cr;
					nextPutAll: '	relURI _ URI fromString: ''';
					nextPutAll: relURIString; nextPutAll: '''.';
					cr;
					nextPutAll: '	resolvedURI _ baseURI resolveRelativeURI: relURI.';
					cr;
					cr;
					nextPutAll: '	self should: [resolvedURI asString = '''; 
					nextPutAll: result;
					nextPutAll: ''']'].

		self compile: method classified: 'examples']